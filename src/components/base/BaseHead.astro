---
import type { TJsonLd } from "../../types/jsonLd";

export interface Props {
  title: string;
  description?: string;
  keywords?: string;
  author?: string;
  canonical?: string;

  ogTitle?: string;
  ogDescription?: string;
  ogUrl?: string;
  ogImage?: string;
  ogImageAlt?: string;

  twitterTitle?: string;
  twitterDescription?: string;
  twitterImage?: string;

  jsonLd?: TJsonLd; // opcional para datos estructurados
}

const {
  title,
  description,
  keywords,
  author,
  canonical,

  ogTitle,
  ogDescription,
  ogUrl,
  ogImage,
  ogImageAlt,

  twitterTitle,
  twitterDescription,
  twitterImage,

  jsonLd,
} = Astro.props;
---

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{title}</title>

  {description && <meta name="description" content={description} />}
  {keywords && <meta name="keywords" content={keywords} />}
  {author && <meta name="author" content={author} />}
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#ffffff" />

  {canonical && <link rel="canonical" href={canonical} />}

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  {ogTitle && <meta property="og:title" content={ogTitle} />}
  {ogDescription && <meta property="og:description" content={ogDescription} />}
  {ogUrl && <meta property="og:url" content={ogUrl} />}
  {ogImage && <meta property="og:image" content={ogImage} />}
  {ogImageAlt && <meta property="og:image:alt" content={ogImageAlt} />}

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  {twitterTitle && <meta name="twitter:title" content={twitterTitle} />}
  {
    twitterDescription && (
      <meta name="twitter:description" content={twitterDescription} />
    )
  }
  {twitterImage && <meta name="twitter:image" content={twitterImage} />}

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.ico" />

  <!-- Preconnect antes de las fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Iconos -->
  <!-- <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  /> -->

  <!-- JSON-LD (Schema.org) -->
  {
    jsonLd && (
      <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
    )
  }

  <slot />
</head>
